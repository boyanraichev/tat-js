'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var tat={modalHooks:[],modalConfirmHook:null,modalConfirmData:null,modalCloseHook:{},lang:{ok:'OK',cancel:'Cancel'},initialize:function initialize(){this.listeners();this.modalOnListener();this.cookie()},listeners:function listeners(){this.modalListener();this.toggleListener();this.tabsListener();this.tooltipListener();this.scrollToListener();this.confirmListener();this.inputListener();this.addRowsListener();this.delRowsListener()},modalListener:function modalListener(){var modals=document.querySelectorAll('.js-modal');Array.from(modals).forEach(function(modal){modal.addEventListener('click',tat.modalShow)})},modalShow:function modalShow(event){event.preventDefault();var modalClicked=this;var modalID=modalClicked.dataset.modal;var modalContent=modalClicked.dataset.modalContent;if(modalContent==undefined||modalContent.length<1){var modalGet=document.getElementById(this.dataset.modalGet);if(modalGet){modalContent=modalGet.innerHTML}}
tat.modal(modalID,modalContent,modalClicked)},modal:function modal(modalID,modalContent,elementClicked){var modal=document.querySelector('.modal');if(!modal){modal=document.createElement('div');modal.className='modal';var modalContentDiv=document.createElement('div');modalContentDiv.className='modal-content';modal.append(modalContentDiv);document.body.prepend(modal)}else{var modalContentDiv=document.querySelector('.modal-content')}
modal.id=modalID;if((typeof modalContent==='undefined'?'undefined':_typeof(modalContent))==='object'){modalContentDiv.innerHTML='';modalContentDiv.prepend(modalContent)}else{modalContentDiv.innerHTML=modalContent}
document.body.classList.add('modal-open');var modalCloseDiv=document.createElement('div');modalCloseDiv.classList.add('modal-close','js-modal-close');modalContentDiv.prepend(modalCloseDiv);modal.classList.add('fade-in');modal.addEventListener('click',tat.modalCloseEv,{'capture':!1});tat.modalCloseListeners();tat.modalConfirmListeners();tat.confirmListener();tat.inputListener();tat.modalHooks.forEach(function(modalHook,i){if(modalHook.id==modalID){if(typeof modalHook.hook=='function'){modalHook.hook(i,elementClicked)}}})},modalConfirmListeners:function modalConfirmListeners(){var confirms=document.querySelectorAll('.js-modal-confirm');Array.from(confirms).forEach(function(confirm){confirm.addEventListener('click',tat.modalConfirm,{'once':!0})})},modalConfirm:function modalConfirm(){if(typeof tat.modalConfirmHook=='function'){tat.modalConfirmHook(tat.modalConfirmData)}else{tat.modalClose()}},modalCloseListeners:function modalCloseListeners(){var closes=document.querySelectorAll('.js-modal-close');Array.from(closes).forEach(function(close){close.addEventListener('click',tat.modalCloseEv)})},modalCloseEv:function modalCloseEv(event){if(event.target!==this){return}
event.stopPropagation();event.preventDefault();tat.modalClose(this)},modalClose:function modalClose(el){if(typeof tat.modalCloseHook=='function'){tat.modalCloseHook(el)}else{var modal=document.querySelector('.modal');modal.classList.remove('fade-in');modal.classList.add('fade-out');setTimeout(function(){modal.remove()},500);document.body.classList.remove('modal-open');tat.modalConfirmHook=null;tat.modalConfirmData=null}
tat.modalCloseHook={}},modalOnListener:function modalOnListener(){var modalOn=document.querySelector('.js-modal-on');if(modalOn){var delay=parseInt(modalOn.dataset.delay)||0;setTimeout(function(){modalOn.click()},delay)}},confirmListener:function confirmListener(){var confirms=document.querySelectorAll('.js-confirm');Array.from(confirms).forEach(function(confirm){confirm.addEventListener('click',function(e){e.preventDefault();var modalID=this.dataset.modal?this.dataset.modal:'modal-confirm';var text=this.dataset.text;tat.modalConfirmData=this.dataset.confirmData;var follow=this.dataset.follow;tat.confirmPrep(modalID,text,this,follow)})})},confirmPrep:function confirmPrep(modalID,text,click,follow){var modalContent=document.createElement('div');modalContent.innerHTML=text;var modalButtons=document.createElement('div');modalButtons.className='modal-confirm';var modalButtonN=document.createElement('button');modalButtonN.classList.add('button','cancel','js-modal-close');modalButtonN.innerHTML=tat.lang.cancel;modalButtons.prepend(modalButtonN);var modalButtonY=document.createElement('button');modalButtonY.classList.add('button','confirm','js-modal-confirm');modalButtonY.innerHTML=tat.lang.ok;modalButtons.prepend(modalButtonY);modalContent.append(modalButtons);if(follow){var href=this.href;modalButtonY.addEventListener('click',function(){window.location=href})}
tat.modal(modalID,modalContent,click)},confirm:function confirm(modalID,modalContent,hook,data){tat.modalConfirmHook=hook;tat.modalConfirmData=data;tat.confirmPrep(modalID,modalContent,null,!1)},toggleListener:function toggleListener(){var toggles=document.querySelectorAll('.js-toggle');Array.from(toggles).forEach(function(toggle){toggle.addEventListener('click',tat.toggle)})},toggle:function toggle(event){event.preventDefault();var toggle=document.getElementById(this.dataset.toggle);if(toggle){this.classList.toggle('toggled');toggle.classList.toggle('opened');var bodyClass=this.dataset.bodyClass;if(bodyClass!=undefined){document.body.classList.toggle(bodyClass)}}},tabsListener:function tabsListener(){var tabs=document.querySelectorAll('.js-tab');Array.from(tabs).forEach(function(tab){tab.addEventListener('click',tat.tabs)})},tabs:function tabs(event){event.preventDefault();var menuTabs=document.querySelectorAll('#'+this.dataset.menu+' .js-tab.active');Array.from(menuTabs).forEach(function(menuTab){menuTab.classList.remove('active')});this.classList.add('active');var wrapTabs=document.querySelectorAll('#'+this.dataset.wrap+' .tab.active');Array.from(wrapTabs).forEach(function(wrapTab){wrapTab.classList.remove('active')});var tab=document.getElementById(this.dataset.tab);tab.classList.add('active')},tooltipListener:function tooltipListener(){var tooltips=document.querySelectorAll('.js-tooltip');Array.from(tooltips).forEach(function(tooltip){tooltip.addEventListener('mouseenter',tat.tooltipOn);tooltip.addEventListener('mouseleave',tat.tooltipOff)});var tooltipsFocus=document.querySelectorAll('.js-tooltip-focus');Array.from(tooltipsFocus).forEach(function(tooltipFocus){tooltipFocus.addEventListener('focus',tat.tooltipOn);tooltipFocus.addEventListener('blur',tat.tooltipOff)})},tooltipOn:function tooltipOn(event){event.preventDefault();this.classList.add('tooltipped');var tooltip=document.getElementById(this.dataset.tooltip);if(tooltip){tooltip.classList.add('opened')}},tooltipOff:function tooltipOff(event){event.preventDefault();this.classList.remove('tooltipped');var tooltip=document.getElementById(this.dataset.tooltip);if(tooltip){tooltip.classList.remove('opened')}},addRowsListener:function addRowsListener(){var addRows=document.querySelectorAll('.js-add-row');Array.from(addRows).forEach(function(addRow){addRow.addEventListener('click',tat.addRow)})},addRow:function addRow(event){event.preventDefault();var table=document.getElementById(this.dataset.table);if(table){var max=table.dataset.maxRows;if(max&&max<=table.childElementCount){return}
var prototype=this.dataset.prototype;var lastRow=table.querySelector('.row:last-child');if(!lastRow||lastRow.dataset.key===undefined){var key=1}else{var key=parseInt(lastRow.dataset.key)+1}
prototype=prototype.replace(/__key__/gi,key);table.insertAdjacentHTML('beforeend',prototype);tat.delRowsListener();tat.toggleListener();var _event=new CustomEvent('rowAdded',{detail:key});table.dispatchEvent(_event)}},delRowsListener:function delRowsListener(){var delRows=document.querySelectorAll('.js-del-row');Array.from(delRows).forEach(function(delRow){delRow.addEventListener('click',tat.delRow)})},delRow:function delRow(event){event.preventDefault();var row=this.closest('.row');row.classList.add('fade-out');setTimeout(function(){row.remove()},500)},scrollToListener:function scrollToListener(){var scrolls=document.querySelectorAll('.js-scroll');Array.from(scrolls).forEach(function(scroll){scroll.addEventListener('click',tat.scrollTo)})},scrollTo:function scrollTo(event){event.preventDefault();var offset=this.dataset.offset;if(offset==undefined){offset=60}
var target=document.getElementById(this.dataset.scrollto);if(target){target.scrollIntoView({behavior:'smooth',block:'start'})}},inputListener:function inputListener(){var inputs=document.querySelectorAll('input, select, textarea');Array.from(inputs).forEach(function(input){input.addEventListener('focus',function(){this.classList.add('has-input')},{'once':!0})})},cookie:function cookie(){if(document.body.classList.contains('js-cookie')){var cookie='';match=document.cookie.match(new RegExp('cookielaw=([^;]+)'));if(match)cookie=match[1];if(cookie.length<1){var cookieDiv=document.createElement('div');cookieDiv.id='cookielaw';var cookieMsgDiv=document.createElement('div');cookieMsgDiv.id='cookielaw-msg';cookieMsgDiv.innerHTML=document.body.dataset.cookieMsg;var cookieBtnDiv=document.createElement('div');cookieBtnDiv.id='cookielaw-btn';var cookieAccept=document.createElement('button');cookieAccept.id='cookiewlaw-accept';cookieAccept.innerHTML=document.body.dataset.cookieBtn;cookieBtnDiv.prepend(cookieAccept);cookieDiv.prepend(cookieBtnDiv);cookieDiv.prepend(cookieMsgDiv);document.body.prepend(cookieDiv);setTimeout(function(){cookieDiv.classList.add('fade-in')},1000);cookieAccept.addEventListener('click',function(){cookieDiv.classList.add('fade-out');setTimeout(function(){cookieDiv.remove()},500);var d=new Date();d.setTime(d.getTime()+90*24*60*60*1000);var expires="expires="+d.toUTCString();document.cookie='cookielaw=Seen; '+expires})}}}};tat.initialize()