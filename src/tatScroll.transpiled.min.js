'use strict';var tatScroll={scrollHeight:0,viewport:null,scrollTop:null,stickyIsOn:!1,stopScroll:!0,sticky:null,inviews:[],initialize:function initialize(){this.stickyListener();this.inViewListener()},resizeListener:function resizeListener(){tatScroll.viewport=window.innerHeight;tatScroll.scrollTop=window.scrollY;window.addEventListener('resize',tatScroll.resize,!0)},resize:function resize(){if(window.innerHeight!=tatScroll.viewport){tatScroll.viewport=window.innerHeight;tatScroll.scrollTop=window.scrollY;tatScroll.inViewListener()}},stickyListener:function stickyListener(){var sticky=document.querySelector('.js-sticky');if(sticky){tatScroll.resizeListener();if(sticky.dataset.scrollheight){this.scrollHeight=sticky.dataset.scrollheight}
tatScroll.sticky=sticky;window.addEventListener('scroll',tatScroll.scroll)}},inViewListener:function inViewListener(){tatScroll.inviews=[];var inviews=document.querySelectorAll('.js-inview');if(inviews){tatScroll.inviews=Array.from(inviews);tatScroll.resizeListener();tatScroll.scrollListener()}},inview:function inview(el,index){tatScroll.stopScroll=!1;var scrollElement=tatScroll.scrollPosition(el);var scrollMin=scrollElement-tatScroll.viewport;var scrollMax=scrollElement+el.offsetHeight;if(tatScroll.scrollTop>scrollMin&&tatScroll.scrollTop<scrollMax){el.classList.add('in-viewport');var event=new CustomEvent('inView');el.dispatchEvent(event);if(el.dataset.once!==undefined){el.classList.remove('js-inview');tatScroll.inviews.splice(index,1)}}},scrollListener:function scrollListener(){if(tatScroll.inviews.length>0){window.addEventListener('scroll',tatScroll.scroll)}},scroll:function scroll(){tatScroll.stopScroll=!0;tatScroll.scrollTop=window.scrollY;tatScroll.inviews.forEach(tatScroll.inview);if(tatScroll.sticky){tatScroll.stopScroll=!1;if(!tatScroll.stickyIsOn&&tatScroll.scrollTop>tatScroll.scrollHeight){tatScroll.sticky.classList.add('scrolled');document.body.classList.add('sticky-fixed');tatScroll.stickyIsOn=!0}else if(tatScroll.stickyIsOn&&tatScroll.scrollTop<=tatScroll.scrollHeight){tatScroll.sticky.classList.remove('scrolled');document.body.classList.remove('sticky-fixed');tatScroll.stickyIsOn=!1}}
if(tatScroll.stopScroll){window.removeEventListener('scroll',tatScroll.scroll)}},scrollPosition:function scrollPosition(el){var yPos=0;while(el){yPos+=el.offsetTop;el=el.offsetParent}
return yPos},scrollPositionViewport:function scrollPositionViewport(el){var yPos=0;while(el){if(el.tagName=="BODY"){var yScroll=el.scrollTop||document.documentElement.scrollTop;yPos+=el.offsetTop-yScroll+el.clientTop}else{yPos+=el.offsetTop-el.scrollTop+el.clientTop}
el=el.offsetParent}
return yPos}};tatScroll.initialize()